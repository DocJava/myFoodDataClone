(this.webpackJsonpmyfooddataclone=this.webpackJsonpmyfooddataclone||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/logo.8357fd40.svg"},150:function(e,t,a){e.exports=a(268)},155:function(e,t,a){},178:function(e,t,a){},240:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),o=(a(155),a(278)),s=a(272),i=a(68),u=a(23),m=a(69),d=a.n(m),f=a(35),p=a(7),E=a.n(p);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=1,b=1e4;var y={value:"~",percentage:"~"};var N=function(e){var t=function(e){var t=function(e){var t=e.selectedQuantity,a=e.selectedWeightIndex,n=E.a.toNumber(e.wt_arr[a])/100;return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e[a][0])return y;var l=E.a.toNumber(e[a])*n*t;return{value:Math.round(10*l/10),percentage:Math.round(l/(1*r)*100)}}}(e);return{calories:t("ENERC_KCAL",2e3),totalFat:t("FAT",65),saturatedFat:t("FASAT",20),transFat:t("FATRN"),cholesterol:t("CHOLE",300),sodium:t("NA",2400),totalCarbohydrates:t("CHOCDF",300),fiber:t("FIBTG",25),sugar:t("SUGAR",50),addedSugar:t("ADD_SG",50),protein:t("PROCNT",50),vitaminC:t("VITC",90),vitaminD:t("VITD",20),iron:t("FE",18),calcium:t("CA",1300),potassium:t("K",4700),phosphorus:t("P",1250)}}(e);return v({},e,{id:e.ndbstring,name:e.names[0],nutritionFactTable:t})};function w(e,t,a){return v({},e,{selectedQuantity:function(e){return e>=g&&e<=b?e:g}(a),selectedWeightIndex:function(e,t){var a=E.a.indexOf(e.code_arr,t);return a<0?0:a}(e,t)})}var O=a(100),j=a.n(O),F=a(129);function C(){return(C=Object(F.a)(j.a.mark((function e(t){var n,r,l,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,r=new URLSearchParams(n.search),l=r.get("food"),c=r.get("serv"),o=Number(r.get("qty")),e.next=7,a.e(3).then(a.t.bind(null,279,3));case 7:return s=e.sent,i=s[l],e.abrupt("return",{foodName:i,servingWeight:c,quantity:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=768;function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=Object(n.createContext)(),x=I.Provider,A={selectedQuantity:1,selectedWeightIndex:0},_={REPLACE:"REPLACE",PUSH:"PUSH",NONE:"NONE"},W=I,T=a(274),k=a(273),R=a(271),q=a(275),z=a(61),H=a(55),L=a(19),Q=a(276),U=(a(178),z.a.Option),M=1,V=1e4;var B=function(e){var t=e.foodItemData,a=Object(n.useContext)(W),l=a.updateFoodWithSelectedQuantity,c=a.updateFoodWithSelectedWeight,o=t.selectedQuantity,s=t.selectedWeightIndex,i=t.desc_arr,m=t.wt_arr.map(E.a.toInteger),d=E.a.zip(i,m).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"".concat(a," (").concat(n,"g)")})),f=d[s];return r.a.createElement(H.a,{className:"serving-size-selection-row__body",align:"middle"},r.a.createElement(L.a,{span:4},r.a.createElement(Q.a,{min:M,max:V,value:o,placeholder:1,onChange:function(e){M<=e&&e<V&&l(t,e)},className:"serving-size-selection-row__serving-input"})),r.a.createElement(L.a,{span:2},r.a.createElement(q.a,null)),r.a.createElement(L.a,{span:18},r.a.createElement(z.a,{value:f,className:"serving-size-selection-row__select",style:{width:"100%"},dropdownMatchSelectWidth:!1,onChange:function(e){c(t,e)}},d.map((function(e,t){return r.a.createElement(U,{value:t,key:e},e)})))))};a(240);var G=function(e){var t=e.foodItemData,a=Object(n.useContext)(W).clearFoodItemData,l=r.a.createElement(T.a,{title:"close"},r.a.createElement(k.a,{type:"link",icon:r.a.createElement(q.a,null),onClick:a,className:"sidebar-food-card__close-button"}));return r.a.createElement(R.a,{title:t.name,size:"small",extra:l,className:"sidebar-food-card"},r.a.createElement(B,{foodItemData:t}))};var J=function(){var e=Object(n.useContext)(W).foodItemData;return e?e&&r.a.createElement(s.a,{dataSource:[e],renderItem:function(e){return r.a.createElement(s.a.Item,{key:e.name},r.a.createElement(G,{foodItemData:e}))}}):null},K=(a(259),z.a.Option);var $=function(e){var t=e.placeholder,a=void 0===t?"\ud83d\udd0d Find Another Food":t,l=Object(n.useState)(),c=Object(u.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)([]),m=Object(u.a)(i,2),f=m[0],p=m[1],h=Object(n.useContext)(W).fetchFoodItemData,v=E.a.debounce((function(e){p([]),E.a.isEmpty(e)?s(void 0):d.a.get("https://us-central1-fasttripfinder-199123.cloudfunctions.net/my-food-data-proxy/?query=name-suggest.php?q=".concat(e)).then((function(t){var a=t.data.trim().split(",");s(e),p(a.map(E.a.trim))}))}),300);return r.a.createElement(z.a,{allowClear:!0,showSearch:!0,showArrow:!1,value:o,placeholder:a,notFoundContent:!1,filterOption:!1,onSearch:v,onChange:function(e){console.log("selected: ",e),E.a.isEmpty(e)?s(void 0):(s(e),h(e))},className:"searchbar"},f.map((function(e){return r.a.createElement(K,{key:e},function(e,t){var a=new RegExp(t,"ig");return E.a.replace(e,a,(function(e){return"<=>".concat(e,"<=>")})).split("<=>").map((function(e,t){return t%2===1?r.a.createElement("span",{key:t,className:"highlighted"},e):e}))}(e,o))})))};a(260);var X=function(e){var t=e.className;return r.a.createElement("div",{className:t},r.a.createElement(o.a,{className:"sidebar"},r.a.createElement("div",{className:"sidebar__container"},r.a.createElement($,null),r.a.createElement(J,null))))};a(263);var Y=function(){var e=Object(n.useContext)(W).foodItemData;if(!e)return null;var t=e.nutritionFactTable,a=t.calories,l=t.totalFat,c=t.saturatedFat,o=t.transFat,s=t.cholesterol,i=t.sodium,u=t.totalCarbohydrates,m=t.fiber,d=t.sugar,f=t.addedSugar,p=t.protein,E=t.vitaminC,h=t.vitaminD,v=t.iron,g=t.calcium,b=t.potassium,y=t.phosphorus;return r.a.createElement("div",{className:"nutrition-facts-table"},r.a.createElement("div",{className:"facts-table-header"},r.a.createElement("b",null,"Nutrition Facts")),r.a.createElement("div",{className:"facts-table-serving large-border-bottom"},r.a.createElement("div",null,r.a.createElement("b",null,"Serving Size")),r.a.createElement("div",null," 1 cup, quartered or chopped (125g)")),r.a.createElement(H.a,{justify:"space-between",className:"calories medium-border-bottom"},r.a.createElement("span",{className:"label"},"Calories"),r.a.createElement("span",{className:"value"},a.value)),r.a.createElement(H.a,{justify:"end"},r.a.createElement("b",null,"% Daily Value *")),r.a.createElement("div",{className:"chart"},r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Total Fat")," ",l.value,"g"),r.a.createElement("b",null,l.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1"},r.a.createElement("span",null,"Saturated Fat ",c.value,"g"),r.a.createElement("b",null,c.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1 thick-border-bottom"},r.a.createElement("span",null,r.a.createElement("em",null,"Trans")," Fat ",o.value,"g")),r.a.createElement(H.a,{className:"thick-border-bottom"},r.a.createElement("span",null,r.a.createElement("b",null,"Cholesterol")," ",s.value,"mg"),r.a.createElement("b",null,s.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Sodium")," ",i.value,"mg"),r.a.createElement("b",null,i.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Total Carbohydrate")," ",u.value,"g"),r.a.createElement("b",null,u.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1 thick-border-bottom"},r.a.createElement("span",null,"Dietary Fiber ",m.value,"g"),r.a.createElement("b",null,m.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1"},r.a.createElement("span",null,"Total Sugars ",d.value,"g"),r.a.createElement("b",null,d.percentage,"%")),r.a.createElement((function(){return"~"===f.value?r.a.createElement(H.a,{className:"no-sugar-added"},r.a.createElement("span",null,"~ No added sugar data collected"),r.a.createElement("b",null,"~")):r.a.createElement(H.a,{className:"no-sugar-added"},r.a.createElement("span",null,"Includes ",f.value,"g Added Sugars"),r.a.createElement("b",null,f.percentage))}),null),r.a.createElement(H.a,{className:"large-border-bottom"},r.a.createElement("span",null,r.a.createElement("b",null,"Protein")," ",p.value,"g"),r.a.createElement("b",null,p.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,"Vitamin C ",E.value,"mg"),E.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Vitamin D ",h.value,"mcg"),h.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Iron ",v.value,"mg"),v.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Calcium ",g.value,"mg"),g.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Potassium ",b.value,"mg"),b.percentage,"%"),r.a.createElement(H.a,{className:"medium-border-bottom"},r.a.createElement("span",null,"Phosphorus ",y.value,"mg"),y.percentage,"%"),r.a.createElement(H.a,{className:"facts-table-footer"},"*The % Daily Value (DV) tells you how much a nutrient in a serving of food contributes to a daily diet. 2,000 calories a day is used for general nutrition advice.")))},Z=a(277);a(264);function ee(){var e=Object(n.useContext)(W).foodItemData;if(!e)return null;var t=e.WATER,a=e.FAT,l=e.CHOCDF,c=e.PROCNT,o=e.ALC,s="~"!==t&&"~"!==a&&"~"!==l&&"~"!==c,i=Number(t),u=Number(a),m=Number(l),d=Number(c),f=Number(o),p=f>0,h=i+u+m+d+f,v=E.a.toInteger(i/h*100),g=E.a.toInteger(u/h*100),b=E.a.toInteger(m/h*100),y=E.a.toInteger(d/h*100),N=E.a.toInteger(f/h*100);return s&&r.a.createElement("div",{className:"histograms"},r.a.createElement("div",{className:"data-title"},"What is this food made of?"),r.a.createElement("div",{className:"data-tile"},r.a.createElement(H.a,{className:"square",align:"bottom"},r.a.createElement(L.a,{className:"water",style:{height:"".concat(v,"%")}}),r.a.createElement(L.a,{className:"fat",style:{height:"".concat(g,"%")}}),r.a.createElement(L.a,{className:"carbs",style:{height:"".concat(b,"%")}}),r.a.createElement(L.a,{className:"protein",style:{height:"".concat(y,"%")}}),p&&r.a.createElement(L.a,{className:"alcohol",style:{height:"".concat(N,"%")}})),r.a.createElement(H.a,{className:"legend"},r.a.createElement(L.a,null,r.a.createElement("div",null,v,"%"),r.a.createElement("div",null,"Water")),r.a.createElement(L.a,null,r.a.createElement("div",null,g,"%"),r.a.createElement("div",null,"Fat")),r.a.createElement(L.a,null,r.a.createElement("div",null,b,"%"),r.a.createElement("div",null,"Carbs")),r.a.createElement(L.a,null,r.a.createElement("div",null,y,"%"),r.a.createElement("div",null,"Protein")),p&&r.a.createElement(L.a,null,r.a.createElement("div",null,N,"%"),r.a.createElement("div",null,"Alcohol")))))}a(265);function te(e){var t=e.className,a=Object(n.useContext)(W),l=a.foodItemData,c=a.isMobile,o=a.displayDrawer,s=a.setDisplayDrawer;return r.a.createElement("div",{className:"".concat(t," facts-panel")},r.a.createElement((function(){return c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:"facts-panel__button",size:"large",onClick:function(){return s(!0)}},"\ud83d\udd0d Find Another Food"),r.a.createElement(Z.a,{title:"Find Food!",placement:"left",closable:!0,onClose:function(){return s(!1)},visible:o,style:{width:"100%"}},r.a.createElement(X,null)))}),null),r.a.createElement("h1",{className:"facts-panel-header"},l.name),r.a.createElement("div",{className:"facts-panel-subheader"},l.longname),r.a.createElement("div",null,r.a.createElement("strong",null,"Database: "),l.datatype),r.a.createElement("div",null,r.a.createElement((function(){return c&&r.a.createElement("div",{className:"facts-panel-body"},r.a.createElement(H.a,{className:"serving-selector",style:{"border-bottom":"1px solid #ddd"}},"Serving Size:"),r.a.createElement(B,{foodItemData:l}))}),null),r.a.createElement(H.a,{align:"middle",className:"facts-panel-body"},r.a.createElement(Y,null),r.a.createElement(ee,null))))}a(266);function ae(e){var t=e.className;return r.a.createElement("div",{class:"".concat(t," home-page")},r.a.createElement("h1",{class:"home-header"},"Nutrition Facts Search Tool"),r.a.createElement("div",{class:"home-info-how-to-search-line"},"Use the search box to find a food and see the nutrient details."),r.a.createElement($,{placeholder:"\ud83d\udd0d Search For A Food (Apples)"}))}var ne=a(145),re=a.n(ne),le=(a(267),o.a.Header),ce=o.a.Content,oe=o.a.Footer;var se=function(){var e=Object(n.useContext)(W),t=e.foodItemData,a=e.isMobile,l=!t,c=!a,s=function(){return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(X,{className:"ant-layout-content__sidebar"}),r.a.createElement(te,{className:"ant-layout-content__nutrition-facts-panel"}))};return r.a.createElement(o.a,{className:a&&"mobile",style:{minHeight:"100vh"}},r.a.createElement(le,{className:"header"},r.a.createElement("a",{href:"https://www.myfooddata.com"},r.a.createElement("img",{className:"header-logo",src:re.a,alt:"my food data",height:"100%"}))),r.a.createElement(ce,null,r.a.createElement((function(){return l?r.a.createElement(ae,{className:"ant-layout-content__home-page"}):r.a.createElement(s,null)}),null)),r.a.createElement(oe,{className:"app-footer"},r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-footer-links"},r.a.createElement("a",{href:"https://www.myfooddata.com/"},"Home |"),r.a.createElement("a",{href:"https://www.myfooddata.com/contact.php"}," Contact |"),r.a.createElement("a",{href:"https://www.myfooddata.com/about.php"}," About |"),r.a.createElement("a",{href:"https://www.myfooddata.com/terms.php"}," Terms of Use |"),r.a.createElement("a",{href:"https://www.myfooddata.com/privacy.php"}," Privacy |"),r.a.createElement("a",{href:"https://www.myfooddata.com/faq.php"}," FAQ |"),r.a.createElement("a",{href:"https://www.myfooddata.com/sitemap.php"}," Sitemap")),r.a.createElement("div",{className:"app-footer-copyright"},"\xa9 2020 MyFoodData.com"))}),null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(99);c.a.render(r.a.createElement(ie.a,null,r.a.createElement((function(e){var t=e.children,a=Object(n.useState)(),l=Object(u.a)(a,2),c=l[0],o=l[1],s=function(){var e=Object(n.useState)(window.innerWidth<=D),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){var e=window.innerWidth<=D;e!==a&&r(e)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[a]),a}(),i=Object(n.useState)(!1),m=Object(u.a)(i,2),p=m[0],E=m[1],h=Object(f.d)();function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.PUSH;E(!1),d.a.get("https://us-central1-fasttripfinder-199123.cloudfunctions.net/my-food-data-proxy/?query=data-update-nf.php?name=".concat(e)).then((function(e){var n=e.data;y(t(n),a)}))}function g(){return function(e){return C.apply(this,arguments)}(h).then((function(e){var t=e.foodName,a=e.servingWeight,n=e.quantity;if(t){v(t,(function(e){return w(e,a,n)}),_.NONE)}else o(null)}))}function b(e){return P({},e,{},A)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.REPLACE,a=N(e);o(a),function(e,t){var a=e.id,n=e.selectedQuantity,r=e.selectedWeightIndex,l=e.code_arr[r],c="?food=".concat(a,"&serv=").concat(l,"&qty=").concat(n);t===_.REPLACE?h.replace(c):t===_.PUSH&&h.push(c)}(a,t)}Object(n.useEffect)((function(){h.listen((function(){"POP"===h.action&&g()}))}),[]),Object(n.useEffect)((function(){g()}),[]);return r.a.createElement(x,{value:{foodItemData:c,fetchFoodItemData:v,clearFoodItemData:function(){return o(null)},updateFoodWithSelectedQuantity:function(e,t){y(P({},e,{selectedQuantity:t}))},updateFoodWithSelectedWeight:function(e,t){y(P({},e,{selectedWeightIndex:t}))},isMobile:s,displayDrawer:p,setDisplayDrawer:E}},t)}),null,r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.4c2c63d6.chunk.js.map