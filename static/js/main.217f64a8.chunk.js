(this.webpackJsonpmyfooddataclone=this.webpackJsonpmyfooddataclone||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/logo.8357fd40.svg"},150:function(e,t,a){e.exports=a(268)},155:function(e,t,a){},178:function(e,t,a){},240:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),o=(a(155),a(278)),i=a(272),s=a(68),u=a(26),m=a(69),d=a.n(m),p=a(35),f=a(8),E=a.n(f);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=1,b=1e4;var y={value:"~",percentage:"~"};var N=function(e){var t=function(e){var t=function(e){var t=e.selectedQuantity,a=e.selectedWeightIndex,n=E.a.toNumber(e.wt_arr[a])/100;return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e[a][0])return y;var l=E.a.toNumber(e[a])*n*t;return{value:Math.round(10*l/10),percentage:Math.round(l/(1*r)*100)}}}(e);return{calories:t("ENERC_KCAL",2e3),totalFat:t("FAT",65),saturatedFat:t("FASAT",20),transFat:t("FATRN"),cholesterol:t("CHOLE",300),sodium:t("NA",2400),totalCarbohydrates:t("CHOCDF",300),fiber:t("FIBTG",25),sugar:t("SUGAR",50),addedSugar:t("ADD_SG",50),protein:t("PROCNT",50),vitaminC:t("VITC",90),vitaminD:t("VITD",20),iron:t("FE",18),calcium:t("CA",1300),potassium:t("K",4700),phosphorus:t("P",1250)}}(e);return g({},e,{id:e.ndbstring,name:e.names[0],nutritionFactTable:t})};function w(e,t,a){return g({},e,{selectedQuantity:function(e){return e>=v&&e<=b?e:v}(a),selectedWeightIndex:function(e,t){var a=E.a.indexOf(e.code_arr,t);return a<0?0:a}(e,t)})}var O=a(100),j=a.n(O),C=a(129);function F(){return(F=Object(C.a)(j.a.mark((function e(t){var n,r,l,c,o,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.location,r=new URLSearchParams(n.search),l=r.get("food"),c=r.get("serv"),o=Number(r.get("qty")),e.next=7,a.e(3).then(a.t.bind(null,279,3));case 7:return i=e.sent,s=i[l],e.abrupt("return",{foodName:s,servingWeight:c,quantity:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=Object(n.createContext)(),I=P.Provider,x={selectedQuantity:1,selectedWeightIndex:0},A={REPLACE:"REPLACE",PUSH:"PUSH",NONE:"NONE"},W=P,k=a(274),T=a(273),_=a(271),R=a(275),q=a(61),H=a(55),Q=a(19),z=a(276),L=(a(178),q.a.Option),M=1,U=1e4;var V=function(e){var t=e.foodItemData,a=e.className,l=Object(n.useContext)(W),c=l.updateFoodWithSelectedQuantity,o=l.updateFoodWithSelectedWeight,i=t.selectedQuantity,s=t.selectedWeightIndex,m=t.desc_arr,d=t.wt_arr.map(E.a.toInteger),p=E.a.zip(m,d).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"".concat(a," (").concat(n,"g)")})),f=p[s];return r.a.createElement("div",{className:a},r.a.createElement(H.a,{className:"serving-size-selection-row__body",align:"middle"},r.a.createElement(Q.a,{span:4},r.a.createElement(z.a,{min:M,max:U,value:i,placeholder:1,onChange:function(e){M<=e&&e<U&&c(t,e)},className:"serving-size-selection-row__serving-input"})),r.a.createElement(Q.a,{span:2},r.a.createElement(R.a,null)),r.a.createElement(Q.a,{flex:1},r.a.createElement(q.a,{value:f,className:"serving-size-selection-row__select",style:{width:"100%"},dropdownMatchSelectWidth:!1,onChange:function(e){o(t,e)}},p.map((function(e,t){return r.a.createElement(L,{value:t,key:e},e)}))))))};a(240);var B=function(e){var t=e.foodItemData,a=Object(n.useContext)(W).clearFoodItemData,l=r.a.createElement(k.a,{title:"close"},r.a.createElement(T.a,{type:"link",icon:r.a.createElement(R.a,null),onClick:a,className:"sidebar-food-card__close-button"}));return r.a.createElement(_.a,{title:t.name,size:"small",extra:l,className:"sidebar-food-card"},r.a.createElement(V,{foodItemData:t}))};var G=function(){var e=Object(n.useContext)(W).foodItemData;return e?e&&r.a.createElement(i.a,{dataSource:[e],renderItem:function(e){return r.a.createElement(i.a.Item,{key:e.name},r.a.createElement(B,{foodItemData:e}))}}):null},J=(a(259),q.a.Option);var K=function(e){var t=e.placeholder,a=void 0===t?"\ud83d\udd0d Find Another Food":t,l=Object(n.useState)(),c=Object(u.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),p=m[0],f=m[1],h=Object(n.useContext)(W).fetchFoodItemData,g=E.a.debounce((function(e){f([]),E.a.isEmpty(e)?i(void 0):d.a.get("https://us-central1-fasttripfinder-199123.cloudfunctions.net/my-food-data-proxy/?query=name-suggest.php?q=".concat(e)).then((function(t){var a=t.data.trim().split(",");i(e),f(a.map(E.a.trim))}))}),300);return r.a.createElement(q.a,{allowClear:!0,showSearch:!0,showArrow:!1,value:o,placeholder:a,notFoundContent:!1,filterOption:!1,onSearch:g,onChange:function(e){console.log("selected: ",e),E.a.isEmpty(e)?i(void 0):(i(e),h(e))},className:"searchbar"},p.map((function(e){return r.a.createElement(J,{key:e},function(e,t){var a=new RegExp(t,"ig");return E.a.replace(e,a,(function(e){return"<=>".concat(e,"<=>")})).split("<=>").map((function(e,t){return t%2===1?r.a.createElement("span",{key:t,className:"highlighted"},e):e}))}(e,o))})))};a(260);var $=function(){return r.a.createElement(o.a,{className:"sidebar"},r.a.createElement(K,null),r.a.createElement(G,null))};a(263);var X=function(){var e=Object(n.useContext)(W).foodItemData;if(!e)return null;var t=e.nutritionFactTable,a=t.calories,l=t.totalFat,c=t.saturatedFat,o=t.transFat,i=t.cholesterol,s=t.sodium,u=t.totalCarbohydrates,m=t.fiber,d=t.sugar,p=t.addedSugar,f=t.protein,E=t.vitaminC,h=t.vitaminD,g=t.iron,v=t.calcium,b=t.potassium,y=t.phosphorus;return r.a.createElement("div",{className:"nutrition-facts-table"},r.a.createElement("div",{className:"facts-table-header"},r.a.createElement("b",null,"Nutrition Facts")),r.a.createElement("div",{className:"facts-table-serving large-border-bottom"},r.a.createElement("div",null,r.a.createElement("b",null,"Serving Size")),r.a.createElement("div",null," 1 cup, quartered or chopped (125g)")),r.a.createElement(H.a,{justify:"space-between",className:"calories medium-border-bottom"},r.a.createElement("span",{className:"label"},"Calories"),r.a.createElement("span",{className:"value"},a.value)),r.a.createElement(H.a,{justify:"end"},r.a.createElement("b",null,"% Daily Value *")),r.a.createElement("div",{className:"chart"},r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Total Fat")," ",l.value,"g"),r.a.createElement("b",null,l.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1"},r.a.createElement("span",null,"Saturated Fat ",c.value,"g"),r.a.createElement("b",null,c.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1 thick-border-bottom"},r.a.createElement("span",null,r.a.createElement("em",null,"Trans")," Fat ",o.value,"g")),r.a.createElement(H.a,{className:"thick-border-bottom"},r.a.createElement("span",null,r.a.createElement("b",null,"Cholesterol")," ",i.value,"mg"),r.a.createElement("b",null,i.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Sodium")," ",s.value,"mg"),r.a.createElement("b",null,s.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,r.a.createElement("b",null,"Total Carbohydrate")," ",u.value,"g"),r.a.createElement("b",null,u.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1 thick-border-bottom"},r.a.createElement("span",null,"Dietary Fiber ",m.value,"g"),r.a.createElement("b",null,m.percentage,"%")),r.a.createElement(H.a,{className:"left-padding-1"},r.a.createElement("span",null,"Total Sugars ",d.value,"g"),r.a.createElement("b",null,d.percentage,"%")),r.a.createElement((function(){return"~"===p.value?r.a.createElement(H.a,{className:"no-sugar-added"},r.a.createElement("span",null,"~ No added sugar data collected"),r.a.createElement("b",null,"~")):r.a.createElement(H.a,{className:"no-sugar-added"},r.a.createElement("span",null,"Includes ",p.value,"g Added Sugars"),r.a.createElement("b",null,p.percentage))}),null),r.a.createElement(H.a,{className:"large-border-bottom"},r.a.createElement("span",null,r.a.createElement("b",null,"Protein")," ",f.value,"g"),r.a.createElement("b",null,f.percentage,"%")),r.a.createElement(H.a,null,r.a.createElement("span",null,"Vitamin C ",E.value,"mg"),E.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Vitamin D ",h.value,"mcg"),h.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Iron ",g.value,"mg"),g.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Calcium ",v.value,"mg"),v.percentage,"%"),r.a.createElement(H.a,null,r.a.createElement("span",null,"Potassium ",b.value,"mg"),b.percentage,"%"),r.a.createElement(H.a,{className:"medium-border-bottom"},r.a.createElement("span",null,"Phosphorus ",y.value,"mg"),y.percentage,"%"),r.a.createElement(H.a,{className:"facts-table-footer"},"*The % Daily Value (DV) tells you how much a nutrient in a serving of food contributes to a daily diet. 2,000 calories a day is used for general nutrition advice.")))},Y=a(277);a(264);function Z(){var e=Object(n.useContext)(W).foodItemData;if(!e)return null;var t=e.WATER,a=e.FAT,l=e.CHOCDF,c=e.PROCNT,o=e.ALC,i="~"!==t&&"~"!==a&&"~"!==l&&"~"!==c,s=Number(t),u=Number(a),m=Number(l),d=Number(c),p=Number(o),f=p>0,h=s+u+m+d+p,g=E.a.toInteger(s/h*100),v=E.a.toInteger(u/h*100),b=E.a.toInteger(m/h*100),y=E.a.toInteger(d/h*100),N=E.a.toInteger(p/h*100);return i&&r.a.createElement("div",{className:"histograms"},r.a.createElement("div",{className:"data-title"},"What is this food made of?"),r.a.createElement("div",{className:"data-tile"},r.a.createElement(H.a,{className:"square",align:"bottom"},r.a.createElement(Q.a,{className:"water",style:{height:"".concat(g,"%")}}),r.a.createElement(Q.a,{className:"fat",style:{height:"".concat(v,"%")}}),r.a.createElement(Q.a,{className:"carbs",style:{height:"".concat(b,"%")}}),r.a.createElement(Q.a,{className:"protein",style:{height:"".concat(y,"%")}}),f&&r.a.createElement(Q.a,{className:"alcohol",style:{height:"".concat(N,"%")}})),r.a.createElement(H.a,{className:"legend"},r.a.createElement(Q.a,null,r.a.createElement("div",null,g,"%"),r.a.createElement("div",null,"Water")),r.a.createElement(Q.a,null,r.a.createElement("div",null,v,"%"),r.a.createElement("div",null,"Fat")),r.a.createElement(Q.a,null,r.a.createElement("div",null,b,"%"),r.a.createElement("div",null,"Carbs")),r.a.createElement(Q.a,null,r.a.createElement("div",null,y,"%"),r.a.createElement("div",null,"Protein")),f&&r.a.createElement(Q.a,null,r.a.createElement("div",null,N,"%"),r.a.createElement("div",null,"Alcohol")))))}a(265);function ee(){return r.a.createElement("div",{class:"home-page"},r.a.createElement("h1",{class:"home-header"},"Nutrition Facts Search Tool"),r.a.createElement("div",{class:"home-info-how-to-search-line"},"Use the search box to find a food and see the nutrient details."),r.a.createElement(K,{placeholder:"\ud83d\udd0d Search For A Food (Apples)"}))}a(266);function te(){var e=Object(n.useContext)(W),t=e.foodItemData,a=e.isMobile,l=e.displayDrawer,c=e.setDisplayDrawer;if(!t)return r.a.createElement(ee,null);return r.a.createElement("div",{className:"facts-panel"},r.a.createElement((function(){return a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{className:"facts-panel__button",size:"large",onClick:function(){return c(!0)}},"\ud83d\udd0d Find Another Food"),r.a.createElement(Y.a,{title:"Find Food!",placement:"left",closable:!0,onClose:function(){return c(!1)},visible:l,style:{width:"100%"}},r.a.createElement($,null)))}),null),r.a.createElement("h1",{className:"facts-panel-header"},t.name),r.a.createElement("div",{className:"facts-panel-subheader"},t.longname),r.a.createElement("div",null,r.a.createElement("strong",null,"Database: "),t.datatype),r.a.createElement("div",null,r.a.createElement((function(){return a&&r.a.createElement("div",{className:"facts-panel-body"},r.a.createElement(H.a,{className:"serving-selector",style:{"border-bottom":"1px solid #ddd"}},"Serving Size:"),r.a.createElement(V,{className:"serving-selector__selection-row",foodItemData:t}))}),null),r.a.createElement(H.a,{align:"middle",className:"facts-panel-body"},r.a.createElement(X,null),r.a.createElement(Z,null))))}var ae=a(145),ne=a.n(ae),re=(a(267),o.a.Header),le=o.a.Content,ce=o.a.Footer,oe=o.a.Sider;var ie=function(){var e=Object(n.useContext)(W),t=e.foodItemData,a=e.toggleMobile,l=null!==t;return r.a.createElement(o.a,{style:{minHeight:"100vh"}},r.a.createElement(re,{className:"header"},r.a.createElement("a",{href:"https://www.myfooddata.com"},r.a.createElement("img",{className:"header-logo",src:ne.a,alt:"my food data",height:"100%"}))),r.a.createElement(o.a,null,l&&r.a.createElement(oe,{width:310,breakpoint:"md",collapsedWidth:0,trigger:null,onCollapse:a},r.a.createElement($,null)),r.a.createElement(le,null,r.a.createElement(te,null))),r.a.createElement(ce,{className:"app-footer"},r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-footer-links"},r.a.createElement("a",{href:"https://www.myfooddata.com/"},"Home |"),r.a.createElement("a",{href:"https://www.myfooddata.com/contact.php"}," Contact |"),r.a.createElement("a",{href:"https://www.myfooddata.com/about.php"}," About |"),r.a.createElement("a",{href:"https://www.myfooddata.com/terms.php"}," Terms of Use |"),r.a.createElement("a",{href:"https://www.myfooddata.com/privacy.php"}," Privacy |"),r.a.createElement("a",{href:"https://www.myfooddata.com/faq.php"}," FAQ |"),r.a.createElement("a",{href:"https://www.myfooddata.com/sitemap.php"}," Sitemap")),r.a.createElement("div",{className:"app-footer-copyright"},"\xa9 2020 MyFoodData.com"))}),null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(99);c.a.render(r.a.createElement(se.a,null,r.a.createElement((function(e){var t=e.children,a=Object(n.useState)(),l=Object(u.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=s[0],f=s[1],E=Object(n.useState)(!1),h=Object(u.a)(E,2),g=h[0],v=h[1],b=Object(p.d)();function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.PUSH;v(!1),d.a.get("https://us-central1-fasttripfinder-199123.cloudfunctions.net/my-food-data-proxy/?query=data-update-nf.php?name=".concat(e)).then((function(e){var n=e.data;C(t(n),a)}))}function O(){return function(e){return F.apply(this,arguments)}(b).then((function(e){var t=e.foodName,a=e.servingWeight,n=e.quantity;if(t){y(t,(function(e){return w(e,a,n)}),A.NONE)}else o(null)}))}function j(e){return S({},e,{},x)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.REPLACE,a=N(e);o(a),function(e,t){var a=e.id,n=e.selectedQuantity,r=e.selectedWeightIndex,l=e.code_arr[r],c="?food=".concat(a,"&serv=").concat(l,"&qty=").concat(n);t===A.REPLACE?b.replace(c):t===A.PUSH&&b.push(c)}(a,t)}Object(n.useEffect)((function(){b.listen((function(){"POP"===b.action&&O()}))}),[]),Object(n.useEffect)((function(){O()}),[]);return r.a.createElement(I,{value:{foodItemData:c,fetchFoodItemData:y,clearFoodItemData:function(){return o(null)},updateFoodWithSelectedQuantity:function(e,t){C(S({},e,{selectedQuantity:t}))},updateFoodWithSelectedWeight:function(e,t){C(S({},e,{selectedWeightIndex:t}))},isMobile:m,toggleMobile:function(){f(!m)},displayDrawer:g,setDisplayDrawer:v}},t)}),null,r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.217f64a8.chunk.js.map